<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Découvrez notre Collection Classic - Des montres élégantes qui incarnent l'excellence horlogère d'Elixir du Temps.">
    <meta name="keywords" content="montres de luxe, collection classic, elixir du temps, horlogerie, montres élégantes">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Collection Classic - Elixir du Temps">
    <meta property="og:description" content="Découvrez notre Collection Classic - Des montres élégantes qui incarnent l'excellence horlogère d'Elixir du Temps.">
    <meta property="og:image" content="../../assets/img/collections/classic-collection-social.jpg">
    
    <!-- Script pour corriger le fondu blanc -->
    <script>
        // Force l'affichage immédiat du contenu
        document.documentElement.style.opacity = "1";
        function ensureVisibility() {
            document.body.classList.add('video-loaded');
        }
        // S'exécute dès que possible
        document.addEventListener('DOMContentLoaded', ensureVisibility);
        // Backup au cas où DOMContentLoaded ne se déclencherait pas
        setTimeout(ensureVisibility, 100);
    </script>
    
    <!-- Style pour gérer la transition -->
    <style>
        html, body {
            opacity: 1;
            transition: opacity 0.3s ease;
        }
        
        body.video-loaded {
            opacity: 1;
        }
        
        .loader-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #121212;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }
        
        body.video-loaded .loader-container {
            opacity: 0;
            visibility: hidden;
        }
        
        .loader {
            width: 50px;
            height: 50px;
            border: 3px solid rgba(201, 168, 107, 0.3);
            border-top-color: #c9a86b;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .visually-hidden {
            position: absolute;
            width: 1px;
            height: 1px;
            margin: -1px;
            padding: 0;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            border: 0;
        }
        
        /* Indicateurs de stock */
        .stock-indicator {
            margin: 10px 0;
            padding: 5px 10px;
            border-radius: 4px;
            display: inline-flex;
            align-items: center;
            font-size: 0.9rem;
        }
        
        .stock-indicator i {
            margin-right: 6px;
        }
        
        .in-stock {
            background-color: rgba(40, 167, 69, 0.1);
            color: #28a745;
        }
        
        .low-stock {
            background-color: rgba(255, 193, 7, 0.1);
            color: #ffc107;
        }
        
        .out-of-stock {
            background-color: rgba(220, 53, 69, 0.1);
            color: #dc3545;
        }
        
        .add-to-cart-btn.disabled,
        #modal-add-to-cart.disabled {
            opacity: 0.6;
            cursor: not-allowed;
            background-color: #6c757d;
        }

        .stock-warning {
            color: #ffc107;
            font-style: italic;
            font-size: 0.8rem;
        }

        /* Styles pour le dropdown du panier */
        .cart-icon {
            position: relative;
            cursor: pointer;
            padding: 10px;
            margin: -10px;  /* Pour compenser le padding et garder l'alignement */
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }
        
        .cart-badge {
            position: absolute;
            top: -8px;
            right: -8px;
            background-color: #d4af37;
            color: white;
            font-size: 12px;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .cart-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            width: 320px;
            background-color: white;
            border-radius: 4px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.15);
            padding: 1rem;
            display: none;
            z-index: 1000;
        }
        
        .cart-dropdown.show {
            display: block;
        }
        
        .cart-dropdown-header {
            border-bottom: 1px solid #eee;
            padding-bottom: 0.5rem;
            margin-bottom: 1rem;
        }
        
        .cart-item {
            display: flex;
            align-items: center;
            padding: 0.5rem 0;
            border-bottom: 1px solid #f5f5f5;
        }
        
        .cart-item-image {
            width: 50px;
            height: 50px;
            overflow: hidden;
            border-radius: 4px;
            margin-right: 0.75rem;
        }
        
        .cart-item-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .cart-item-info {
            flex-grow: 1;
        }
        
        .cart-item-info h4 {
            margin: 0;
            font-size: 0.9rem;
        }
        
        .cart-item-price {
            font-size: 0.8rem;
            color: #666;
        }
        
        .cart-item-remove {
            background: none;
            border: none;
            cursor: pointer;
            color: #999;
            padding: 0.25rem;
        }
        
        .cart-item-remove:hover {
            color: #d4af37;
        }
        
        .cart-dropdown-total {
            display: flex;
            justify-content: space-between;
            font-weight: bold;
            margin: 1rem 0;
        }
        
        .cart-dropdown-buttons {
            display: flex;
            gap: 0.5rem;
        }
        
        .cart-dropdown-button {
            padding: 0.5rem 1rem;
            text-decoration: none;
            text-align: center;
            border-radius: 4px;
            flex-grow: 1;
            font-size: 0.9rem;
        }
        
        .cart-dropdown-button.primary {
            background: linear-gradient(to bottom, #d4af37, #c0992a);
            color: white;
        }
        
        .cart-dropdown-button.secondary {
            background-color: #f5f5f5;
            color: #333;
        }

        /* Ajouter ce style dans la section <style> existante */
        .cart-notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: #d4af37;
            color: white;
            padding: 12px 20px;
            border-radius: 4px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            z-index: 1000;
            opacity: 1;
            transition: opacity 0.5s ease;
        }

        /* Styles pour le modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.7);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .modal-container {
            background-color: white;
            border-radius: 8px;
            width: 90%;
            max-width: 900px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            animation: modalFadeIn 0.3s ease;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            border-bottom: 1px solid #eee;
        }

        .modal-header h3 {
            margin: 0;
            font-size: 1.5rem;
        }

        .close-modal {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #777;
        }

        .modal-content {
            padding: 20px;
            display: flex;
            flex-wrap: wrap;
        }

        .modal-product-image {
            flex: 1;
            min-width: 300px;
            padding-right: 20px;
        }

        .modal-product-image img {
            width: 100%;
            height: auto;
            object-fit: cover;
            border-radius: 4px;
        }

        .modal-product-details {
            flex: 1;
            min-width: 300px;
        }

        .modal-actions {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        @keyframes modalFadeIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Style pour les prix en promotion */
        .price-old {
            text-decoration: line-through;
            color: #777;
            margin-right: 8px;
        }
    </style>
    
    <!-- Ressources -->
    <link rel="stylesheet" href="../../assets/css/main.css">
    <link rel="stylesheet" href="../../assets/css/collections.css">
    <link rel="shortcut icon" href="../../assets/img/layout/icon.png" type="image/x-icon">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Raleway:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    
    <title>Collection Limitée - Elixir du Temps</title>
</head>
<body class="video-loaded">
    <!-- Loader -->
    <div class="loader-container">
        <div class="loader">
            <span class="visually-hidden">Chargement en cours...</span>
        </div>
    </div>
    
    <!-- Header section with logo and navigation menu -->
    <header class="header">
        <div class="logo-container">
            <a href="../Accueil.html" aria-label="Accueil Elixir du Temps">
                <img src="../../assets/img/layout/logo.png" alt="Logo Elixir du Temps" class="logo" width="180" height="60" fetchpriority="high">
            </a>
        </div>
        <nav aria-label="Navigation principale">
            <ul class="menu-bar">
                <li><a href="../Accueil.html">Accueil</a></li>
                <li><a href="../Collections.html">Collections</a></li>
                <li><a href="../Montres.html">Montres</a></li>
                <li><a href="../APropos.html">À propos</a></li>
                <li><a href="../Contact.html">Contact</a></li>
            </ul>
        </nav>
        
        <!-- User and Cart Icons -->
        <div class="user-cart-container">
            <a href="../auth/login.html" class="user-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon-user">
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                    <circle cx="12" cy="7" r="4"></circle>
                </svg>
                <div class="dropdown-menu">
                    <a href="../auth/login.html" id="login-link">Se connecter</a>
                    <a href="../../php/api/auth/register.php" id="register-link">S'inscrire</a>
                    <a href="../user/MonCompte.html" id="account-link" style="display: none;">Mon compte</a>
                    <a href="../user/MesCommandes.html" id="orders-link" style="display: none;">Mes commandes</a>
                    <a href="../../php/api/auth/logout.php" id="logout-link" class="logout" style="display: none;">Déconnexion</a>
                </div>
            </a>
            
            <div class="cart-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="9" cy="21" r="1"></circle>
                    <circle cx="20" cy="21" r="1"></circle>
                    <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                </svg>
                <span class="cart-badge">0</span>
                <a href="../products/panier.php" class="cart-direct-link" style="position:absolute; height:100%; width:100%; top:0; left:0; z-index:5; opacity:0;"></a>
                
                <div class="cart-dropdown">
                    <div class="cart-dropdown-header">
                        <h3>Mon Panier</h3>
                    </div>
                    <div class="cart-dropdown-items">
                        <!-- Le panier sera rempli dynamiquement via JavaScript -->
                    </div>
                    <div class="cart-dropdown-empty">Votre panier est vide</div>
                    <div class="cart-dropdown-total">
                        <span>Total:</span>
                        <span class="cart-dropdown-total-value">0,00 €</span>
                    </div>
                    <div class="cart-dropdown-buttons">
                        <a href="../products/panier.php" class="cart-dropdown-button secondary">Voir le panier</a>
                        <a href="../Montres.html" class="cart-dropdown-button primary">Découvrir nos montres</a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Ajouter la vidéo d'arrière-plan manquante -->
    <div class="video-background">
        <video class="video-bg" autoplay muted loop playsinline preload="auto">
            <source src="../../assets/video/background.mp4" type="video/mp4">
            <!-- Fallback image si la vidéo ne se charge pas -->
            <img src="../../assets/img/collections/classic-hero.jpg" alt="Collection Classic" class="fallback-img">
        </video>
        <div class="video-overlay"></div>
        
        <!-- Hero content sur la vidéo -->
        <div class="collection-hero">
            <div class="collection-hero-content">
                <h1 class="collection-title">Collection Limitée</h1>
                <p class="collection-description">Des créations exceptionnelles et rares, chacune numérotée et produite en série limitée. Découvrez l'exclusivité à son apogée avec notre collection la plus prestigieuse.</p>
            </div>
        </div>
    </div>

    <!-- Filtres et Recherche -->
    <section class="collection-filters">
        <div class="container">
            <div class="filters-row">
                <div class="search-container">
                    <input type="text" class="search-bar" placeholder="Rechercher une montre..." aria-label="Rechercher une montre">
                    <button class="search-button" aria-label="Rechercher">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="11" cy="11" r="8"></circle>
                            <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                        </svg>
                    </button>
                </div>
                
                <div class="filter-options">
                    <div class="sort-section">
                        <label for="sort-by">Trier par :</label>
                        <select id="sort-by" aria-label="Trier les montres par">
                            <option value="nouveaute">Nouveautés</option>
                            <option value="price-asc">Prix croissant</option>
                            <option value="price-desc">Prix décroissant</option>
                            <option value="popularity">Popularité</option>
                        </select>
                    </div>
                    
                    <div class="gender-filter">
                        <span>Catégorie :</span>
                        <div class="gender-buttons">
                            <button id="homme-button" class="gender-button active" aria-pressed="true">Homme</button>
                            <button id="femme-button" class="gender-button" aria-pressed="false">Femme</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Section produits -->
    <section class="products-section">
    <div class="container">
        <!-- Section pour Homme products -->
        <div id="homme-products" class="product-grid active">
            <!-- Premier produit - Chronos Édition Limitée -->
            <div class="product-card">
                <div class="product-image-container">
                    <img src="../../assets/img/products/Chronos-edition-limited.png" alt="Montre Chronos Édition Limitée" class="product-image" loading="lazy">
                    <div class="product-overlay">
                        <button class="quick-view-btn" data-product-id="301">Aperçu rapide</button>
                    </div>
                </div>
                <div class="product-info">
                    <h3 class="product-title">Chronos Édition Limitée</h3>
                    <p class="product-price">8 950 €</p>
                    <div class="product-actions">
                        <button class="add-to-cart-btn" data-product-id="301">Ajouter au panier</button>
                        <button class="add-to-wishlist-btn" data-product-id="301" aria-label="Ajouter aux favoris">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Deuxième produit - Prestige Unique -->
            <div class="product-card">
                <div class="product-image-container">
                    <img src="../../assets/img/products/Prestige-unique-edition-limited.png" alt="Montre Prestige Unique" class="product-image" loading="lazy">
                    <div class="product-overlay">
                        <button class="quick-view-btn" data-product-id="302">Aperçu rapide</button>
                    </div>
                </div>
                <div class="product-info">
                    <h3 class="product-title">Prestige Unique</h3>
                    <p class="product-price">4 750 €</p>
                    <div class="product-actions">
                        <button class="add-to-cart-btn" data-product-id="302">Ajouter au panier</button>
                        <button class="add-to-wishlist-btn" data-product-id="302" aria-label="Ajouter aux favoris">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Troisième produit - Héritage Exclusif -->
            <div class="product-card">
                <div class="product-image-container">
                    <img src="../../assets/img/products/HeritageUnique-edition-limited.png" alt="Montre Héritage Exclusif" class="product-image" loading="lazy">
                    <div class="product-overlay">
                        <button class="quick-view-btn" data-product-id="303">Aperçu rapide</button>
                    </div>
                </div>
                <div class="product-info">
                    <h3 class="product-title">Héritage Exclusif</h3>
                    <p class="product-price">12 800 €</p>
                    <div class="product-actions">
                        <button class="add-to-cart-btn" data-product-id="303">Ajouter au panier</button>
                        <button class="add-to-wishlist-btn" data-product-id="303" aria-label="Ajouter aux favoris">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Quatrième produit - Souveraineté Singulière -->
            <div class="product-card">
                <div class="product-image-container">
                    <img src="../../assets/img/products/SouvraineteSinguliere-edition-limited.png" alt="Montre Souveraineté Singulière" class="product-image" loading="lazy">
                    <div class="product-overlay">
                        <button class="quick-view-btn" data-product-id="304">Aperçu rapide</button>
                    </div>
                </div>
                <div class="product-info">
                    <h3 class="product-title">Souveraineté Singulière</h3>
                    <p class="product-price">7 500 €</p>
                    <div class="product-actions">
                        <button class="add-to-cart-btn" data-product-id="304">Ajouter au panier</button>
                        <button class="add-to-wishlist-btn" data-product-id="304" aria-label="Ajouter aux favoris">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
        </div>

            <!-- Section pour Femme products -->
            <div id="femme-products" class="product-grid">
    <!-- Premier produit femme - Élégance Rose -->
    <div class="product-card">
        <div class="product-image-container">
            <img src="../../assets/img/products/EleganceRose-edition-limited.png" alt="Montre Élégance Rose" class="product-image" loading="lazy">
            <div class="product-overlay">
                <button class="quick-view-btn" data-product-id="401">Aperçu rapide</button>
            </div>
        </div>
        <div class="product-info">
            <h3 class="product-title">Élégance Rose</h3>
            <p class="product-price">13 500 €</p>
            <div class="product-actions">
                <button class="add-to-cart-btn" data-product-id="401">Ajouter au panier</button>
                <button class="add-to-wishlist-btn" data-product-id="401" aria-label="Ajouter aux favoris">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>
    
    <!-- Nouveau produit femme - Grâce Limitée -->
    <div class="product-card">
        <div class="product-image-container">
            <img src="../../assets/img/products/GraceLimitee-edition-limited.png" alt="Montre Grâce Limitée" class="product-image" loading="lazy">
            <div class="product-overlay">
                <button class="quick-view-btn" data-product-id="402">Aperçu rapide</button>
            </div>
        </div>
        <div class="product-info">
            <h3 class="product-title">Grâce Limitée</h3>
            <p class="product-price">13 500 €</p>
            <div class="product-actions">
                <button class="add-to-cart-btn" data-product-id="402">Ajouter au panier</button>
                <button class="add-to-wishlist-btn" data-product-id="402" aria-label="Ajouter aux favoris">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <!-- Second produit femme - Éclat Unique -->
    <div class="product-card">
        <div class="product-image-container">
            <img src="../../assets/img/products/EclatUnique-edition-limited.png" alt="Montre Éclat Unique" class="product-image" loading="lazy">
            <div class="product-overlay">
                <button class="quick-view-btn" data-product-id="403">Aperçu rapide</button>
            </div>
        </div>
        <div class="product-info">
            <h3 class="product-title">Éclat Unique</h3>
            <p class="product-price">13 500 €</p>
            <div class="product-actions">
                <button class="add-to-cart-btn" data-product-id="403">Ajouter au panier</button>
                <button class="add-to-wishlist-btn" data-product-id="403" aria-label="Ajouter aux favoris">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>
</div>
        </div>
    </section>

    <!-- Section Recommandations -->
    <section class="recommendations">
        <div class="container">
            <h2 class="section-title">Vous pourriez aussi aimer</h2>
            <div class="recommendations-carousel">
                <!-- Produits recommandés -->
                <div class="recommendation-item">
                    <img src="../../assets/img/products/heritage-prestige.jpg" alt="Heritage Prestige" loading="lazy">
                    <h3>Heritage Prestige</h3>
                    <p>12 500 €</p>
                    <a href="../montres/heritage-prestige.html" class="view-product">Découvrir</a>
                </div>
                <div class="recommendation-item">
                    <img src="../../assets/img/products/heritage-prestige.jpg" alt="Héritage Impérial" loading="lazy">
                    <h3>Héritage Impérial</h3>
                    <p>12 500 €</p>
                    <a href="../montres/heritage-prestige.html" class="view-product">Découvrir</a>
                </div>
                <div class="recommendation-item">
                    <img src="../../assets/img/products/elegance-eternelle.jpg" alt="Élégance Éternelle" loading="lazy">
                    <h3>Élégance Éternelle</h3>
                    <p>15 000 €</p>
                    <a href="../montres/elegance-eternelle.html" class="view-product">Découvrir</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Modal pour aperçu rapide -->
    <div id="quick-view-modal" class="modal-overlay">
        <div class="modal-container">
            <div class="modal-header">
                <h3 id="modal-product-title"></h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-content">
                <div class="modal-product-image">
                    <img id="modal-product-image" src="" alt="">
                </div>
                <div class="modal-product-details">
                    <p id="modal-product-price" class="product-price"></p>
                    <!-- La fonction affichera ici l'indicateur de stock -->
                    <p id="modal-product-description" class="product-description">Montre exclusive et élégante de notre collection limitée.</p>
                    <div class="modal-actions">
                        <button id="modal-add-to-cart" class="add-to-cart-btn">Ajouter au panier</button>
                        <button class="add-to-wishlist-btn" aria-label="Ajouter aux favoris">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer amélioré -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-columns">
                <div class="footer-column">
                    <h3>Elixir du Temps</h3>
                    <p>L'excellence horlogère depuis 1985</p>
                </div>
                
                <div class="footer-column">
                    <h3>Collections</h3>
                    <ul>
                        <li><a href="Collection-Classic.html">Collection Classic</a></li>
                        <li><a href="Collection-Sport.html">Collection Sport</a></li>
                        <li><a href="Collection-Vintage.html">Collection Vintage</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3>Informations</h3>
                    <ul>
                        <li><a href="../APropos.html">À propos</a></li>
                        <li><a href="../Contact.html">Contact</a></li>
                        <li><a href="../PrivacyPolicy.html">Politique de confidentialité</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3>Contact</h3>
                    <address>
                        <p>15 rue de la Paix<br>75002 Paris, France</p>
                        <p>Tél: <a href="tel:+33145887766">+33 (0)1 45 88 77 66</a></p>
                        <p>Email: <a href="mailto:contact@elixirdutemps.com">contact@elixirdutemps.com</a></p>
                    </address>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2025 Elixir du Temps. Tous droits réservés.</p>
                <div class="social-icons">
                    <a href="https://instagram.com" aria-label="Instagram" target="_blank" rel="noopener">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line></svg>
                    </a>
                    <a href="https://facebook.com" aria-label="Facebook" target="_blank" rel="noopener">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg>
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <script src="../../assets/js/wishlist-manager.js"></script>


<!-- Premier et unique script avec toutes les fonctionnalités -->
<script>
console.log('Script démarré'); // Pour déboguer

// Attendre que le DOM soit complètement chargé
document.addEventListener('DOMContentLoaded', function() {
    console.log('DOM chargé'); // Pour déboguer
    
    // Fix pour le problème de fondu blanc
    document.body.classList.add('video-loaded');
    
    // -------- Fonctions du panier --------
    
    // Afficher un message debug sur le nombre d'événements
    console.log('Nombre de boutons "Ajouter au panier":', document.querySelectorAll('.add-to-cart-btn').length);
    
    function checkProductStock(productId, productName, productPrice, productImage) {
        console.log('Vérification stock pour:', productName); // Pour déboguer
        
        // Pour éviter l'ajout en double, on vérifie si on a déjà effectué cette action récemment
        const lastAddTime = parseInt(localStorage.getItem(`last_add_${productId}`)) || 0;
        const now = Date.now();
        if (now - lastAddTime < 2000) { // Ignorer les clics multiples dans un intervalle de 2 secondes
            console.log('Action ignorée - trop rapide');
            return;
        }
        localStorage.setItem(`last_add_${productId}`, now);
        
        // Ajouter directement au panier (sans vérification de stock pour simplifier)
        addToCart(productId, productName, 1, productPrice, productImage);
        showNotification('Produit ajouté au panier');
    }
    
    function addToCart(productId, productName, quantity, price, imageSrc) {
        // Récupérer le panier existant ou créer un nouveau
        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        
        // Vérifier si l'article existe déjà dans le panier
        const existingItemIndex = cart.findIndex(item => item.id === productId);
        
        if (existingItemIndex > -1) {
            // Incrémenter la quantité si le produit existe déjà
            cart[existingItemIndex].quantity += quantity;
        } else {
            // Ajouter le nouvel article
            cart.push({
                id: productId,
                name: productName,
                price: price,
                quantity: quantity,
                image: imageSrc
            });
        }
        
        // Sauvegarder le panier mis à jour
        localStorage.setItem('cart', JSON.stringify(cart));
        
        // Mettre à jour l'affichage
        updateCartDisplay();
    }
    
    function updateCartDisplay() {
        const cart = JSON.parse(localStorage.getItem('cart')) || [];
        const cartBadge = document.querySelector('.cart-badge');
        const cartDropdownItems = document.querySelector('.cart-dropdown-items');
        const cartDropdownEmpty = document.querySelector('.cart-dropdown-empty');
        const cartDropdownTotal = document.querySelector('.cart-dropdown-total-value');
        
        if (!cartBadge || !cartDropdownItems || !cartDropdownEmpty || !cartDropdownTotal) {
            console.error("Éléments du panier manquants dans le DOM");
            return;
        }
        
        // Mettre à jour le compteur d'articles
        const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
        cartBadge.textContent = totalItems;
        
        // Vider le contenu précédent
        cartDropdownItems.innerHTML = '';
        
        // Calculer le total
        let total = 0;
        
        if (cart.length === 0) {
            // Afficher le message "panier vide"
            cartDropdownEmpty.style.display = 'block';
        } else {
            // Masquer le message "panier vide"
            cartDropdownEmpty.style.display = 'none';
            
            // Afficher chaque article
            cart.forEach(item => {
                const itemTotal = item.price * item.quantity;
                total += itemTotal;
                
                const cartItem = document.createElement('div');
                cartItem.className = 'cart-item';
                cartItem.innerHTML = `
                    <div class="cart-item-image">
                        <img src="${item.image}" alt="${item.name}">
                    </div>
                    <div class="cart-item-info">
                        <h4>${item.name}</h4>
                        <div class="cart-item-price">${item.quantity} × ${item.price.toFixed(2).replace('.', ',')} €</div>
                    </div>
                    <button class="cart-item-remove" data-id="${item.id}">
                        <i class="fas fa-times"></i>
                    </button>
                `;
                
                cartDropdownItems.appendChild(cartItem);
            });
            
            // Ajouter des écouteurs d'événements pour les boutons de suppression
            document.querySelectorAll('.cart-item-remove').forEach(button => {
                button.addEventListener('click', function(e) {
                    e.stopPropagation();
                    const productId = this.getAttribute('data-id');
                    removeFromCart(productId);
                });
            });
        }
        
        // Mettre à jour le total
        cartDropdownTotal.textContent = `${total.toFixed(2).replace('.', ',')} €`;
    }
    
    function removeFromCart(productId) {
        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        
        // Filtrer le produit à supprimer
        cart = cart.filter(item => item.id !== productId);
        
        // Sauvegarder le panier mis à jour
        localStorage.setItem('cart', JSON.stringify(cart));
        
        // Mettre à jour l'affichage
        updateCartDisplay();
        
        // Afficher une confirmation
        showNotification('Produit retiré du panier');
    }
    
    function showNotification(message) {
        // Supprimer toute notification existante
        const existingNotif = document.querySelector('.cart-notification');
        if (existingNotif) {
            document.body.removeChild(existingNotif);
        }
        
        // Créer et afficher la nouvelle notification
        const notification = document.createElement('div');
        notification.className = 'cart-notification';
        notification.textContent = message;
        document.body.appendChild(notification);
        
        // Masquer et supprimer après un délai
        setTimeout(() => {
            notification.style.opacity = '0';
            setTimeout(() => {
                if (notification.parentNode) {
                    document.body.removeChild(notification);
                }
            }, 500);
        }, 2000);
    }
    
    // -------- Filtrage et affichage des produits --------
    const hommeButton = document.getElementById('homme-button');
    const femmeButton = document.getElementById('femme-button');
    const hommeProducts = document.getElementById('homme-products');
    const femmeProducts = document.getElementById('femme-products');
    
    if (hommeButton && femmeButton) {
        hommeButton.addEventListener('click', function() {
            hommeButton.classList.add('active');
            femmeButton.classList.remove('active');
            hommeProducts.classList.add('active');
            femmeProducts.classList.remove('active');
            hommeButton.setAttribute('aria-pressed', 'true');
            femmeButton.setAttribute('aria-pressed', 'false');
        });
        
        femmeButton.addEventListener('click', function() {
            femmeButton.classList.add('active');
            hommeButton.classList.remove('active');
            femmeProducts.classList.add('active');
            hommeProducts.classList.remove('active');
            femmeButton.setAttribute('aria-pressed', 'true');
            hommeButton.setAttribute('aria-pressed', 'false');
        });
    }
    
    // Recherche de produits
    const searchBar = document.querySelector('.search-bar');
    const sortSelect = document.getElementById('sort-by');
    
    if (searchBar) searchBar.addEventListener('input', filterProducts);
    if (sortSelect) sortSelect.addEventListener('change', sortProducts);
    
    function filterProducts() {
        const searchTerm = searchBar.value.toLowerCase();
        const activeGrid = document.querySelector('.product-grid.active');
        if (!activeGrid) return;
        
        const products = activeGrid.querySelectorAll('.product-card');
        
        products.forEach(product => {
            const title = product.querySelector('.product-title').textContent.toLowerCase();
            if (title.includes(searchTerm)) {
                product.style.display = 'block';
            } else {
                product.style.display = 'none';
            }
        });
    }
    
    function sortProducts() {
        const option = sortSelect.value;
        const activeGrid = document.querySelector('.product-grid.active');
        if (!activeGrid) return;
        
        const products = Array.from(activeGrid.querySelectorAll('.product-card'));
        
        products.sort((a, b) => {
            const priceA = parseFloat(a.querySelector('.product-price').textContent.replace(/[^0-9.-]+/g,""));
            const priceB = parseFloat(b.querySelector('.product-price').textContent.replace(/[^0-9.-]+/g,""));
            
            if (option === 'price-asc') {
                return priceA - priceB;
            } else if (option === 'price-desc') {
                return priceB - priceA;
            }
            return 0;
        });
        
        products.forEach(product => {
            activeGrid.appendChild(product);
        });
    }
    
    // -------- Gestion du modal d'aperçu rapide --------
    const quickViewButtons = document.querySelectorAll('.quick-view-btn');
    const modal = document.getElementById('quick-view-modal');
    const closeModalButton = document.querySelector('.close-modal');
    
    if (quickViewButtons.length) {
        quickViewButtons.forEach(button => {
            button.addEventListener('click', function(e) {
                e.preventDefault();
                
                // Option 1: Redirection vers la page de détail du produit
                const productId = this.getAttribute('data-product-id');
                window.location.href = '../products/product-detail.php?id=' + productId;
                
                /* Option 2: Afficher le modal (décommentez pour utiliser)
                if (modal) {
                    const productId = this.getAttribute('data-product-id');
                    const productCard = this.closest('.product-card');
                    const title = productCard.querySelector('.product-title').textContent;
                    const price = productCard.querySelector('.product-price').textContent;
                    const imageSrc = productCard.querySelector('.product-image').getAttribute('src');
                    
                    document.getElementById('modal-product-title').textContent = title;
                    document.getElementById('modal-product-price').textContent = price;
                    document.getElementById('modal-product-image').setAttribute('src', imageSrc);
                    document.getElementById('modal-product-image').setAttribute('alt', title);
                    
                    // Ajouter l'ID du produit au bouton d'ajout au panier
                    const addToCartBtn = document.getElementById('modal-add-to-cart');
                    if (addToCartBtn) {
                        addToCartBtn.setAttribute('data-product-id', productId);
                        addToCartBtn.addEventListener('click', function() {
                            const id = this.getAttribute('data-product-id');
                            const modalTitle = document.getElementById('modal-product-title').textContent;
                            const modalPriceText = document.getElementById('modal-product-price').textContent;
                            const modalPrice = parseFloat(modalPriceText.replace(/[^0-9,.-]+/g, '').replace(',', '.'));
                            const modalImage = document.getElementById('modal-product-image').getAttribute('src');
                            
                            checkProductStock(id, modalTitle, modalPrice, modalImage);
                            modal.style.display = 'none';
                        });
                    }
                    
                    modal.style.display = 'flex';
                    document.body.style.overflow = 'hidden';
                }
                */
            });
        });
    }
    
    // Fermeture du modal
    if (closeModalButton && modal) {
        closeModalButton.addEventListener('click', function() {
            modal.style.display = 'none';
            document.body.style.overflow = '';
        });
        
        window.addEventListener('click', function(event) {
            if (event.target === modal) {
                modal.style.display = 'none';
                document.body.style.overflow = '';
            }
        });
    }
    
    // -------- Gestion du panier --------
    // Configuration du dropdown du panier
    const cartIcon = document.querySelector('.cart-icon');
    if (cartIcon) {
        // Supprimer le lien direct transparent qui bloque les clics
        const directLink = cartIcon.querySelector('.cart-direct-link');
        if (directLink) {
            directLink.remove();
        }
        
        // Gestionnaire d'événement simple sur l'icône
        cartIcon.addEventListener('click', function(e) {
            // Toujours arrêter la propagation pour éviter la fermeture immédiate
            e.stopPropagation();
            
            // Vérifier si le clic est sur un bouton ou lien du dropdown
            if (e.target.closest('.cart-dropdown-button')) {
                // Ne rien faire, laisser le lien fonctionner naturellement
                return;
            }
            
            // Sinon, toggle le dropdown
            const dropdown = this.querySelector('.cart-dropdown');
            if (dropdown) {
                dropdown.classList.toggle('show');
                console.log('Dropdown toggled:', dropdown.classList.contains('show'));
            }
        });
    }
    
    // Fermer le dropdown quand on clique ailleurs
    document.addEventListener('click', function(e) {
        if (!e.target.closest('.cart-dropdown') && !e.target.closest('.cart-icon')) {
            const dropdown = document.querySelector('.cart-dropdown.show');
            if (dropdown) {
                dropdown.classList.remove('show');
            }
        }
    });
    
    // Gestion des boutons d'ajout au panier
    document.querySelectorAll('.add-to-cart-btn').forEach(button => {
        if (!button.closest('#quick-view-modal')) { // Évite les boutons dans le modal
            button.addEventListener('click', function() {
                const productId = this.getAttribute('data-product-id');
                const productCard = this.closest('.product-card');
                const productName = productCard.querySelector('.product-title').textContent;
                const productPriceText = productCard.querySelector('.product-price').textContent;
                const productPrice = parseFloat(productPriceText.replace(/[^0-9,.-]+/g, '').replace(',', '.'));
                const productImage = productCard.querySelector('.product-image').getAttribute('src');
                
                checkProductStock(productId, productName, productPrice, productImage);
            });
        }
    });
    
    // Gestion des boutons d'ajout aux favoris
    const wishlistButtons = document.querySelectorAll('.add-to-wishlist-btn');
    wishlistButtons.forEach(button => {
        button.addEventListener('click', function() {
            this.classList.toggle('active');
            const productId = this.getAttribute('data-product-id');
            // Vous pourriez implémenter ici l'ajout réel aux favoris
        });
    });
    
    // -------- Gestion de la vidéo d'arrière-plan --------
    const video = document.querySelector('.video-bg');
    const fallbackImg = document.querySelector('.fallback-img');
    
    if (video) {
        // En cas d'erreur de chargement de la vidéo, afficher l'image de secours
        video.addEventListener('error', function() {
            if (fallbackImg) {
                fallbackImg.style.display = 'block';
            }
        });
        
        // Si la vidéo ne démarre pas après 3 secondes, afficher l'image de secours
        setTimeout(function() {
            if (video.paused || video.readyState < 2) {
                if (fallbackImg) {
                    fallbackImg.style.display = 'block';
                }
            }
        }, 3000);
    }
    
    // Initialiser l'affichage du panier au chargement de la page
    updateCartDisplay();
});
</script>
</body>
</html>